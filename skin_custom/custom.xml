<krpano>

    <!-- STILE del puntino -->
    <style name="info_hotspot"
           url="info.png"
           scale="0.5"
           handcursor="true" />
    <style name="info_hotspot_attivo"
           url="../hotspots/info_icon.svg"
           scale="0.5"
           handcursor="true" />

    <!-- FINESTRA POPUP -->
    <layer name="popup"
           visible="false"
           align="center"
           width="400"
           height="200"
           bgcolor="0x000000"
           bgalpha="0.8"
           handcursor="true">

        <layer name="popup_text"
               parent="popup"
               type="text"
               html=""
               align="center"
               width="90%"
               height="80%" />

        <layer name="popup_close"
               parent="popup"
               url="close.png"
               align="topright"
               onclick="set(layer[popup].visible,false);"
               handcursor="true" />
    </layer>


       <!-- Cambia stile hotspot info se la scena è attiva -->
       <action name="update_info_hotspots_style">
              for(set(i,0), i LT hotspot.count, inc(i),
                     if(hotspot[get(i)].style == 'info_hotspot',
                            if(scene[get(xml.scene)].hotspot[get(i)].name == hotspot[get(i)].name,
                                   set(hotspot[get(i)].style, 'info_hotspot_attivo');
                            ,
                                   set(hotspot[get(i)].style, 'info_hotspot');
                            );
                     );
              );
       </action>

       <action name="show_popup">
              set(layer[popup].visible,true);
              set(layer[popup_text].html,%1);
       </action>

       <events onxmlscenechanged="update_info_hotspots_style();" />

</krpano>
